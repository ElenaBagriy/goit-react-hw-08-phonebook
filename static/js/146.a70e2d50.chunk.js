"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[146],{5146:function(n,e,t){t.r(e),t.d(e,{default:function(){return gn}});var i,r,a,o,s,l,c,d,x=t(4554),u=t(1614),m=t(1413),h=t(9439),Z=t(2791),p=t(9434),v=t(9195),j=t(4695),f=t(6520),b=t(9877),g=t(5289),w=t(5661),C=t(9157),P=t(1889),S=t(6151),y=t(7123),k=t(2419),_=t(9823),A=t(8518),I=t(2526),z=t(2286),W=t(1073),F=t(168),q=t(7691),D=t(4227),U=t(8096),E=t(7071),L=(0,q.ZP)(D.Z)(i||(i=(0,F.Z)(["\n  & label {\n    color: rgba(0, 0, 0, 0.6);\n    }\n"]))),O=((0,q.ZP)(U.Z)(r||(r=(0,F.Z)(["\n  color: rgba(0, 0, 0, 0.6);\n  \n  & label {\n    color: rgba(0, 0, 0, 0.6);\n    }\n"]))),(0,q.ZP)(S.Z)(a||(a=(0,F.Z)(["\n  position: absolute;\n  top: 0;\n"])))),Q=(0,q.ZP)(E.Z)(o||(o=(0,F.Z)(["\n  text-align: center;\n  position: absolute;\n  background-color: white;\n  padding: 0 4px;\n  margin-left: 14px;\n"]))),T=t(3381),N=t(3329),R=function(){var n,e,t,i,r=(0,p.I0)(),a=(0,p.v9)(z.Af),o=(0,Z.useState)(!1),s=(0,h.Z)(o,2),l=s[0],c=s[1],d=(0,v.cI)({resolver:(0,j.X)(T.OD),defaultValues:{name:"",number:""}}),F=d.register,q=d.handleSubmit,D=d.reset,U=d.control,E=d.formState.errors,R=function(){c(!1)},K=(null===(n=E.name)||void 0===n?void 0:n.message.charAt(0).toUpperCase())+(null===(e=E.name)||void 0===e?void 0:e.message.slice(1))||"",V=(null===(t=E.number)||void 0===t?void 0:t.message.charAt(0).toUpperCase())+(null===(i=E.number)||void 0===i?void 0:i.message.slice(1))||"";return(0,N.jsxs)(u.Z,{component:"div",sx:{mb:"16px"},children:[(0,N.jsx)(f.Z,{title:"Add contact",children:(0,N.jsx)(b.Z,{color:"primary","aria-label":"add contact",sx:{position:"absolute",top:"20px",left:"650px"},onClick:function(){c(!0)},children:(0,N.jsx)(k.Z,{})})}),(0,N.jsxs)(g.Z,{open:l,onClose:R,children:[(0,N.jsx)(w.Z,{children:"Add contact"}),(0,N.jsx)(C.Z,{children:(0,N.jsxs)(x.Z,{component:"form",onSubmit:q((function(n){if(a.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()})))return(0,A.yv)("".concat(n.name," is already in contacts."),(0,W.TF)("error"));r((0,I.uK)(n)),(0,A.yv)("".concat(n.name," was successfully added!"),(0,W.TF)("success")),D(),R()})),sx:{mt:2},children:[(0,N.jsxs)(P.ZP,{container:!0,children:[(0,N.jsxs)(P.ZP,{item:!0,xs:12,sx:{mb:"20px",position:"relative"},children:[(0,N.jsx)(v.Qr,{name:"name",control:U,render:function(n){var e=n.field;return(0,N.jsx)(L,(0,m.Z)((0,m.Z)((0,m.Z)({},e),F("name")),{},{variant:"standard",label:"Name *",fullWidth:!0,type:"text",autoFocus:!0,id:"name"}))}}),(0,N.jsx)(Q,{sx:{ml:"14px",color:"#a62633"},children:K})]}),(0,N.jsxs)(P.ZP,{item:!0,xs:12,sx:{mb:"20px",position:"relative"},children:[(0,N.jsx)(v.Qr,{name:"number",control:U,render:function(n){var e=n.field;return(0,N.jsx)(L,(0,m.Z)((0,m.Z)((0,m.Z)({},e),F("number")),{},{variant:"standard",label:"Phone number *",fullWidth:!0,type:"tel",autoComplete:"number",id:"number"}))}}),(0,N.jsx)(Q,{sx:{ml:"14px",color:"#a62633"},children:V})]})]}),(0,N.jsx)(S.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Add contact"})]})}),(0,N.jsx)(y.Z,{children:(0,N.jsx)(O,{onClick:R,sx:{position:"absolute",top:"8px",right:"8px",p:"0",minWidth:"24px"},children:(0,N.jsx)(_.Z,{})})})]})]})},K=t(493),V=t(5527),X=(0,q.ZP)(D.Z)(s||(s=(0,F.Z)(["\n  & label {\n    color: rgba(0, 0, 0, 0.6);\n    }\n"]))),G=((0,q.ZP)(U.Z)(l||(l=(0,F.Z)(["\n  color: rgba(0, 0, 0, 0.6);\n  \n  & label {\n    color: rgba(0, 0, 0, 0.6);\n    }\n"]))),(0,q.ZP)(E.Z)(c||(c=(0,F.Z)(["\n  position: absolute;\n  bottom: -9px;\n  background-color: white;\n  padding: 0 4px;\n  margin-left: 14px;\n"])))),Y=q.ZP.h3(d||(d=(0,F.Z)(["\n  text-align: center;\n  margin: 24px 0;\n  font-size: 24px;\n  color: #26a69a;\n"]))),B=function(n){var e,t,i,r,a=n.id,o=n.onClose,s=(0,p.I0)(),l=(0,p.v9)(z.Af),c=(0,Z.useState)(""),d=(0,h.Z)(c,2),u=d[0],f=d[1],b=(0,Z.useState)(""),g=(0,h.Z)(b,2),w=g[0],C=g[1],y=(0,v.cI)({resolver:(0,j.X)(T.OD)}),k=y.register,_=y.handleSubmit,F=y.reset,q=y.control,D=y.formState.errors,U=y.setValue;(0,Z.useEffect)((function(){var n=l.find((function(n){return n.id===a}));f(n.name),C(n.number),U("name",n.name),U("number",n.number)}),[a,l,U]);var E=function(n){switch(n.target.name){case"name":f(n.target.value),U("name",n.target.value);break;case"number":C(n.target.value),U("number",n.target.value)}},L=(null===(e=D.name)||void 0===e?void 0:e.message.charAt(0).toUpperCase())+(null===(t=D.name)||void 0===t?void 0:t.message.slice(1))||"",O=(null===(i=D.number)||void 0===i?void 0:i.message.charAt(0).toUpperCase())+(null===(r=D.number)||void 0===r?void 0:r.message.slice(1))||"";return(0,N.jsx)(V.Z,{elevation:3,sx:{p:"16px"},children:(0,N.jsxs)(x.Z,{component:"form",onSubmit:_((function(n){s((0,I.mP)({editedData:n,id:a})),(0,A.yv)("Contact was successfully changed!",(0,W.TF)("success")),F(),o()})),children:[(0,N.jsx)(Y,{children:"Edit contact:"}),(0,N.jsxs)(P.ZP,{container:!0,spacing:2,children:[(0,N.jsxs)(P.ZP,{item:!0,xs:12,sx:{position:"relative"},children:[(0,N.jsx)(v.Qr,{name:"name",control:q,render:function(n){var e=n.field;return(0,N.jsx)(X,(0,m.Z)((0,m.Z)((0,m.Z)({},e),k("name")),{},{variant:"standard",label:"Name *",fullWidth:!0,type:"text",autoFocus:!0,id:"name",value:u,onChange:function(n){return E(n)}}))}}),(0,N.jsx)(G,{sx:{ml:"14px",color:"#a62633"},children:L})]}),(0,N.jsxs)(P.ZP,{item:!0,xs:12,sx:{position:"relative"},children:[(0,N.jsx)(v.Qr,{name:"number",control:q,render:function(n){var e=n.field;return(0,N.jsx)(X,(0,m.Z)((0,m.Z)((0,m.Z)({},e),k("number")),{},{variant:"standard",label:"Number *",fullWidth:!0,type:"tel",id:"number",value:w,onChange:function(n){return E(n)}}))}}),(0,N.jsx)(G,{sx:{ml:"14px",color:"#a62633"},children:O})]})]}),(0,N.jsx)(S.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Save changes"})]})})};function H(n){var e,t=0;for(e=0;e<n.length;e+=1)t=n.charCodeAt(e)+((t<<5)-t);var i="#";for(e=0;e<3;e+=1){i+="00".concat((t>>8*e&255).toString(16)).slice(-2)}return i}function J(n){return{sx:{bgcolor:H(n)},children:"".concat(n[0].toUpperCase())}}var M,$,nn,en=t(2627),tn=t(9333),rn=t(3044),an=t(6259),on=t(3400),sn=t(7924),ln=t(7247),cn=t(1286),dn=function(n){var e=n.contact,t=n.editContact,i=n.handleListItemClick,r=n.selected,a=(0,p.I0)(),o=e.id,s=e.name,l=e.number;return(0,N.jsxs)("li",{children:[(0,N.jsxs)(en.Z,{component:"div",onClick:function(n){return i(n,o)},selected:r,children:[(0,N.jsx)(tn.Z,{children:(0,N.jsx)(rn.Z,(0,m.Z)({},J("".concat(s))))}),(0,N.jsx)(an.Z,{primary:(0,N.jsxs)("p",{children:[s,": ",l]})}),(0,N.jsx)(f.Z,{title:"Delete",onClick:function(){return n=o,void a((0,I.GK)(n));var n},sx:{mr:"8px"},children:(0,N.jsx)(on.Z,{"aria-label":"delete contact",color:"error",size:"large",children:(0,N.jsx)(ln.Z,{})})}),(0,N.jsx)(f.Z,{title:"Edit",onClick:function(){return t(o)},children:(0,N.jsx)(on.Z,{"aria-label":"edit contact",color:"primary",children:(0,N.jsx)(cn.Z,{})})})]}),(0,N.jsx)(sn.Z,{variant:"inset",component:"div"},"div".concat(o))]})},xn=t(7047),un=function(){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(en.Z,{component:"div",children:[(0,N.jsx)(tn.Z,{children:(0,N.jsx)(xn.Z,{variant:"circular",width:40,height:40,animation:"wave"})}),(0,N.jsx)(xn.Z,{variant:"text",width:376,sx:{fontSize:"16px"},animation:"wave"})]}),(0,N.jsxs)(en.Z,{component:"div",children:[(0,N.jsx)(tn.Z,{children:(0,N.jsx)(xn.Z,{variant:"circular",width:40,height:40,animation:"wave"})}),(0,N.jsx)(xn.Z,{variant:"text",width:376,sx:{fontSize:"16px"},animation:"wave"})]}),(0,N.jsxs)(en.Z,{component:"div",children:[(0,N.jsx)(tn.Z,{children:(0,N.jsx)(xn.Z,{variant:"circular",width:40,height:40,animation:"wave"})}),(0,N.jsx)(xn.Z,{variant:"text",width:376,sx:{fontSize:"16px"},animation:"wave"})]}),(0,N.jsxs)(en.Z,{component:"div",children:[(0,N.jsx)(tn.Z,{children:(0,N.jsx)(xn.Z,{variant:"circular",width:40,height:40,animation:"wave"})}),(0,N.jsx)(xn.Z,{variant:"text",width:376,sx:{fontSize:"16px"},animation:"wave"})]}),(0,N.jsxs)(en.Z,{component:"div",children:[(0,N.jsx)(tn.Z,{children:(0,N.jsx)(xn.Z,{variant:"circular",width:40,height:40,animation:"wave"})}),(0,N.jsx)(xn.Z,{variant:"text",width:376,sx:{fontSize:"16px"},animation:"wave"})]}),(0,N.jsxs)(en.Z,{component:"div",children:[(0,N.jsx)(tn.Z,{children:(0,N.jsx)(xn.Z,{variant:"circular",width:40,height:40,animation:"wave"})}),(0,N.jsx)(xn.Z,{variant:"text",width:376,sx:{fontSize:"16px"},animation:"wave"})]})]})},mn=t(3767),hn=function(){var n=(0,p.I0)(),e=(0,p.v9)(z.DI),t=(0,p.v9)(z.xU),i=(0,p.v9)(z.zh),r=(0,Z.useState)(!1),a=(0,h.Z)(r,2),o=a[0],s=a[1],l=(0,Z.useState)(""),c=(0,h.Z)(l,2),d=c[0],m=c[1],v=(0,Z.useState)(""),j=(0,h.Z)(v,2),f=j[0],b=j[1];(0,Z.useEffect)((function(){n((0,I.yF)())}),[n]);var g=function(n,e){b(e)},w=function(){console.log("false"),s(!1)},C=function(n){console.log("true"),m(n),s(!0)};return(0,N.jsx)(u.Z,{component:"div",children:(0,N.jsxs)(P.ZP,{container:!0,columnSpacing:3,children:[(0,N.jsx)(P.ZP,{item:!0,xs:7,children:(0,N.jsxs)(x.Z,{sx:{width:"100%",maxWidth:600,bgcolor:"background.paper"},children:[0!==e.length&&(0,N.jsx)(K.Z,{component:"ul","aria-label":"Contacts list",children:e.map((function(n){return(0,N.jsx)(dn,{contact:n,editContact:C,handleListItemClick:g,selected:n.id===f},n.id)}))}),t&&!i&&(0,N.jsx)(un,{}),i&&(0,N.jsx)("p",{children:"Oh no! Something went wrong. Please, try again later."})]})}),o&&(0,N.jsx)(mn.Z,{onClickAway:w,children:(0,N.jsx)(P.ZP,{item:!0,xs:5,sx:{pl:"0"},children:(0,N.jsx)(B,{id:d,onClose:w})})})]})})},Zn=t(6895),pn=t(5403),vn=(0,q.ZP)(D.Z)(M||(M=(0,F.Z)(["\n  width: 400px;\n  padding-left: 8px;\n  position: relative;\n  border-radius: 2;\n  \n  & label {\n    color: rgba(0, 0, 0, 0.6);\n    margin-left: 8px;\n  }\n  \n  & input {\n    margin-left: 8px;\n  }\n"]))),jn=(0,q.ZP)(x.Z)($||($=(0,F.Z)(["\n  width: 400px;\n  position: relative;\n"]))),fn=(0,q.ZP)(pn.Z)(nn||(nn=(0,F.Z)(["\n  position: absolute;\n  right: 4px;\n  bottom: 4px;\n  color: #26a69a;\n"]))),bn=function(){var n=(0,p.I0)(),e=(0,p.v9)(z.AD);return(0,N.jsx)(u.Z,{component:"div",children:(0,N.jsxs)(jn,{component:"form",sx:{mb:"36px"},children:[(0,N.jsx)(vn,{id:"filter",label:"Find contacts by name",variant:"standard",size:"small",onChange:function(e){var t=e.target.value.trim();n((0,Zn.T)(t))},value:e}),(0,N.jsx)(fn,{})]})})},gn=function(){return(0,N.jsx)(x.Z,{component:"main",sx:{position:"relative"},children:(0,N.jsxs)(u.Z,{maxWidth:"xl",sx:{boxShadow:1,p:3},children:[(0,N.jsx)(bn,{}),(0,N.jsx)(R,{}),(0,N.jsx)(hn,{})]})})}},3381:function(n,e,t){t.d(e,{OD:function(){return r},dm:function(){return a},gY:function(){return o}});var i=t(6727),r=(0,i.Ry)({name:(0,i.Z_)().required(),number:(0,i.Z_)().min(5).matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Invalid phone number").required()}),a=(0,i.Ry)({email:(0,i.Z_)().email().required(),password:(0,i.Z_)().required().min(7)}),o=(0,i.Ry)({name:(0,i.Z_)().required(),email:(0,i.Z_)().email().required(),password:(0,i.Z_)().required().min(7)})}}]);
//# sourceMappingURL=146.a70e2d50.chunk.js.map